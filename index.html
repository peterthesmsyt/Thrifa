<!DOCTYPE html >
<!--suppress ALL -->
<html ng-app lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thrifa</title>

    <link rel="stylesheet" href="css/style.css" type="text/css">
    <script src="angular.min.js"></script>

</head>
<body>

<nav>
    <div class="menu">
        <ul>
            <li>
                <a class="page-scroll" href="#about">About</a>
            </li>
            <li>
                <a class="page-scroll" href="#map">Map</a>
            </li>
            <li>
                <a class="page-scroll" href="#portfolio">Portfolio</a>
            </li>
            <li>
                <a class="page-scroll" href="#contact">Contact</a>
            </li>
        </ul>
    </div>
</nav>

<div class="search">
<input type="text" name="search" placeholder="Enter stop or address">
</div>

<div class="search">
    <input type="text" name="search" placeholder="Enter route">
</div>


<div id="map">

<!--<script>
    function initMap() {
        var mapDiv = document.getElementById('map');
        var map = new google.maps.Map(mapDiv, {
            center: {lat: 46.734105, lng: -117.181786},
            zoom: 14
        });
    }
</script>
-->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDz7LS2gheZ3tX8mgHlRjjSsSYn0Ldx17g&callback=initMap">
    </script>


    <script>
    //        var locations = [
    //            ['Washington State Univeristy', 46.731930, -117.154400, 1],
    //            ['Washington State University School of Mechanical and Materials Engineering', 46.730327, -117.157415, 2],
    //            ['Washington State University Veterinary Teaching Hospital', 46.728157, -117.158274, 3],
    //            ['Washington State University Arboretum', 46.727654, -117.135865, 4],
    //            ['Palouse Ridge Golf Club', 46.739419, -117.141959, 5]
    //        ];

//    var stops = [[
//    {"stopnum":1,"lat":46.732046059127,"long":-117.181900441647,"stopname":"Transfer Station"},
//    {"stopnum":2,"lat":46.7304199555838,"long":-117.179439514875,"stopname":"Porch Light"}
//    ]];
//    var array = $.map(myObj, function(value, index) {
//        return value;
//    });
//    var map;
//    function initialize() {
//        var mapOptions = {
//            zoom: 14,
//    center: { lat: 46.734105, long: -117.181786}
//    };
//        map = new google.maps.Map(document.getElementById('map'),
//            mapOptions);
//        var i;
//        for (i = 0; i < array.length; i++) {
//
//            latitude = stops["lat"];
//            longtitude = stops["long"];
//
//            var marker = new google.maps.Marker({
//            position: {latitude,longtitude},
//            map: map
//            });
//        }
//        var infowindow = new google.maps.InfoWindow({
//            content: '<p>Marker Location:' + marker.getPosition() + '</p>'
//        });
//        google.maps.event.addListener(marker, 'click', function() {
//            infowindow.open(map, marker);
//        });
//    }
//    google.maps.event.addDomListener(window, 'load', initialize);


    var stops = [
        {"stopnum":1,"lat":46.732046059127,"long":-117.181900441647,"stopname":"Transfer Station"},
        {"stopnum":2,"lat":46.7304199555838,"long":-117.179439514875,"stopname":"Porch Light"}
    ];
    var locations = [
        ['Washington State Univeristy', 46.731930, -117.154400, 1],
        ['Washington State University School of Mechanical and Materials Engineering', 46.730327, -117.157415, 2],
        ['Washington State University Veterinary Teaching Hospital', 46.728157, -117.158274, 3],
        ['Washington State University Arboretum', 46.727654, -117.135865, 4],
        ['Palouse Ridge Golf Club', 46.739419, -117.141959, 5]
    ];
    var array = Object.keys(stops).map(function (key) {return stops[key]});
//    var array = $.map(myObj, function(value, index) {
//        return value;
//    });

    var map = new google.maps.Map(document.getElementById('map'), {
        zoom: 14,
        center: new google.maps.LatLng(46.734105, -117.181786),
        mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    var infowindow = new google.maps.InfoWindow();

    var marker, i;

    for (i = 0; i < array.length; i++) {
        marker = new google.maps.Marker({
            position: new google.maps.LatLng(array[i][1], array[i][2]),
            map: map
        });

        google.maps.event.addListener(marker, 'click', (function(marker, i) {
            return function() {
                infowindow.setContent(array[i][3]);
                infowindow.open(map, marker);
            }
        })(marker, i));
    }


    </script>




















    <!--<script id="stops" type="text/javascript">-->
<!--//        var locations = [-->
<!--//            ['Washington State Univeristy', 46.731930, -117.154400, 1],-->
<!--//            ['Washington State University School of Mechanical and Materials Engineering', 46.730327, -117.157415, 2],-->
<!--//            ['Washington State University Veterinary Teaching Hospital', 46.728157, -117.158274, 3],-->
<!--//            ['Washington State University Arboretum', 46.727654, -117.135865, 4],-->
<!--//            ['Palouse Ridge Golf Club', 46.739419, -117.141959, 5]-->
<!--//        ];-->

        <!--var stops = [-->
            <!--{"stopnum":1,"lat":46.732046059127,"long":-117.181900441647,"stopname":"Transfer Station"},-->
            <!--{"stopnum":2,"lat":46.7304199555838,"long":-117.179439514875,"stopname":"Porch Light"}-->
        <!--];-->

        <!--var map = new google.maps.Map(document.getElementById('map'), {-->
            <!--zoom: 14,-->
            <!--center: new google.maps.LatLng(46.734105, -117.181786),-->
            <!--mapTypeId: google.maps.MapTypeId.ROADMAP-->
        <!--});-->

        <!--var infowindow = new google.maps.InfoWindow();-->

        <!--var marker, i, latitude, longtitude, name;-->



        <!--for (i = 0; i < stops.length; i++) {-->
            <!--latitude = stops["lat"];-->
            <!--longtitude = stops["long"];-->
            <!--marker = new google.maps.Marker({-->
                <!--position: new google.maps.LatLng(latitude, longtitude),-->
                <!--map: map-->
            <!--});-->
            <!--name = stops["stopname"];-->
            <!--google.maps.event.addListener(marker, 'click', (function(marker) {-->
                <!--return function() {-->
                    <!--infowindow.setContent(name);-->
                    <!--infowindow.open(map, marker);-->
                <!--}-->
            <!--})(marker));-->
        <!--}-->
        <!--google.maps.event.addDomListener(window, 'load', initialize);-->
    <!--</script>-->



    <!--<script>-->
        <!--var xmlhttp = new XMLHttpRequest();-->
        <!--var url = "http://sudokit.com:3000/GetBusStops/E";-->
<!--//        xmlhttp.onreadystatechange = function() {-->
<!--//            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {-->
<!--//                var myArr = JSON.parse(xmlhttp.responseText);-->
<!--//                myFunction(myArr);-->
<!--//            }-->
<!--//        };-->
        <!--xmlhttp.open("GET", url, true);-->
        <!--xmlhttp.send();-->

        <!--var map = new google.maps.Map(document.getElementById('map'), {-->
            <!--zoom: 14,-->
            <!--center: new google.maps.LatLng(46.734105, -117.181786),-->
            <!--mapTypeId: google.maps.MapTypeId.ROADMAP-->
        <!--});-->

        <!--var infowindow = new google.maps.InfoWindow();-->

        <!--var i;-->

        <!--for (i = 0; i < xmlhttp.length; i++) {-->
            <!--xmlhttp = new google.maps.Marker({-->
                <!--position: new google.maps.LatLng(xmlhttp[i][2], xmlhttp[i][3]),-->
                <!--map: map-->
            <!--});-->

            <!--google.maps.event.addListener(xmlhttp, 'click', (function(xmlhttp, i) {-->
                <!--return function() {-->
                    <!--infowindow.setContent(xmlhttp[i][4]);-->
                    <!--infowindow.open(map, xmlhttp);-->
                <!--}-->
            <!--})(xmlhttp, i));-->
        <!--}-->
    <!--</script>-->



    <!--<script>
        var xmlhttp = new XMLHttpRequest();
        var url = "http://sudokit.com:3000/GetBusStops/E";

        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var myArr = JSON.parse(xmlhttp.responseText);
                myFunction(myArr);
            }
        };
        xmlhttp.open("GET", url, true);
        xmlhttp.send();

        function myFunction(arr) {
            var out = "";
            var i;
            for(i = 0; i < arr.length; i++) {
                out += '<a href="' + arr[i].url + '">' +
                    arr[i].display + '</a><br>';
            }
            document.getElementById("id01").innerHTML = out;
        }
    </script>
    -->



    <!--<script>-->
        <!--var script = document.createElement('script');-->
        <!--script.src = 'http://sudokit.com:3000/GetBusStops/E';-->
        <!--document.getElementsByTagName('head')[0].appendChild(script);-->
    <!--</script>-->
</div>

</body>
</html>
